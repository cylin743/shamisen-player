(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2083:function(a,t,e){Promise.resolve().then(e.bind(e,7802))},7802:function(a,t,e){"use strict";e.r(t),e.d(t,{default:function(){return E}});var n=e(7437),c=e(2265);function s(a){let t=a.split("\n");for(var e="",n="",c="",s="",o="",r="",l=[],i=0;i<t.length;i++)t[i].toLowerCase().startsWith("t:")?e=t[i].substring(2):t[i].toLowerCase().startsWith("k:")?n=t[i].substring(2):t[i].toLowerCase().startsWith("q:")?c=t[i].substring(2):t[i].toLowerCase().startsWith("m:")?o=t[i].substring(2):t[i].toLowerCase().startsWith("l:")?s=t[i].substring(2):t[i].toLowerCase().startsWith("r:")?r=t[i].substring(2):l.push(t[i]);return{title:e,key:n,speed:c,defaultNoteLength:s,tune:r,timeSignature:o,notes:l}}function o(a){return(0,n.jsxs)("g",{className:"abcjs-bar abcjs-bar abcjs-l0 abcjs-m0 abcjs-mm0 abcjs-v0",fill:"currentColor",stroke:"none","data-name":"bar",children:[(0,n.jsx)("path",{d:"M ".concat(a," 140.31L ").concat(a," 117.94L ").concat(a+.5," 116.94L ").concat(a+.5," 140.31z"),"data-name":"bar"}),(0,n.jsx)("path",{d:"M ".concat(a+2.5," 140.31L ").concat(a+2.5," 117.94L ").concat(a+3," 116.94L ").concat(a+3," 140.31z"),"data-name":"bar"})]},"db-".concat(a))}function r(a){return(0,n.jsx)("g",{className:"abcjs-bar abcjs-bar abcjs-l0 abcjs-m0 abcjs-mm0 abcjs-v0",fill:"currentColor",stroke:"none","data-name":"bar",children:(0,n.jsx)("path",{d:"M ".concat(a," 140.31L ").concat(a," 117.94L ").concat(a+.5," 116.94L ").concat(a+.5," 140.31z"),"data-name":"bar"})},"b-".concat(a))}function l(a){return(0,n.jsxs)("g",{className:"abcjs-bar abcjs-bar abcjs-l0 abcjs-m0 abcjs-mm0 abcjs-v0",fill:"currentColor",stroke:"none","data-name":"bar",children:[(0,n.jsx)("path",{d:"M ".concat(a," 140.41L ").concat(a," 116.94L ").concat(a+4," 116.94L ").concat(a+4," 140.41z"),"data-name":"bar"}),(0,n.jsx)("path",{d:"M ".concat(a+8," 140.41L ").concat(a+8," 116.94L ").concat(a+8.6," 116.94L ").concat(a+8.6," 140.41z"),"data-name":"bar"}),(0,n.jsx)("path",{"data-name":"dots.dot",d:"M ".concat(a+12," 124.00813196981264c 0.09 -0.03 0.27 -0.06 0.39 -0.06c 0.96 0 1.74 0.78 1.74 1.71c 0 0.96 -0.78 1.74 -1.71 1.74c -0.96 0 -1.74 -0.78 -1.74 -1.71c 0 -0.78 0.54 -1.5 1.32 -1.68z")}),(0,n.jsx)("path",{"data-name":"dots.dot",d:"M ".concat(a+12," 130.38313196981264c 0.09 -0.03 0.27 -0.06 0.39 -0.06c 0.96 0 1.74 0.78 1.74 1.71c 0 0.96 -0.78 1.74 -1.71 1.74c -0.96 0 -1.74 -0.78 -1.74 -1.71c 0 -0.78 0.54 -1.5 1.32 -1.68z")})]},"s-".concat(a))}function i(a){return(0,n.jsxs)("g",{className:"abcjs-bar abcjs-bar abcjs-l0 abcjs-m0 abcjs-mm0 abcjs-v0",fill:"currentColor",stroke:"none","data-name":"bar",children:[(0,n.jsx)("path",{"data-name":"dots.dot",d:"M ".concat(a-12," 124.00813196981264c 0.09 -0.03 0.27 -0.06 0.39 -0.06c 0.96 0 1.74 0.78 1.74 1.71c 0 0.96 -0.78 1.74 -1.71 1.74c -0.96 0 -1.74 -0.78 -1.74 -1.71c 0 -0.78 0.54 -1.5 1.32 -1.68z")}),(0,n.jsx)("path",{"data-name":"dots.dot",d:"M ".concat(a-12," 130.38313196981264c 0.09 -0.03 0.27 -0.06 0.39 -0.06c 0.96 0 1.74 0.78 1.74 1.71c 0 0.96 -0.78 1.74 -1.71 1.74c -0.96 0 -1.74 -0.78 -1.74 -1.71c 0 -0.78 0.54 -1.5 1.32 -1.68z")}),(0,n.jsx)("path",{d:"M ".concat(a-8," 140.41L ").concat(a-8," 116.94L ").concat(a-8.6," 116.94L ").concat(a-8.6," 140.41z"),"data-name":"bar"}),(0,n.jsx)("path",{d:"M ".concat(a," 140.41L ").concat(a," 116.94L ").concat(a-4," 116.94L ").concat(a-4," 140.41z"),"data-name":"bar"})]},"e-".concat(a))}function d(a){var t=[];let{input:e}=a,c=s(e),d=function(a){let t=a.title||"",e=a.speed||"";a.key;let c=a.timeSignature||"";var s,o="";return 2==c.split("/").length&&(s=c.split("/")[0],o=c.split("/")[1]),(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/1999/xlink",role:"img",fill:"currentColor",stroke:"currentColor",viewBox:"0 0 700 90",preserveAspectRatio:"xMinYMin meet",children:[(0,n.jsx)("g",{children:(0,n.jsx)("text",{stroke:"none",fontSize:"27",fontStyle:"normal",fontFamily:"Times New Roman",fontWeight:"normal",textDecoration:"none",textAnchor:"middle",x:"350",y:"49.56","data-name":"title",children:(0,n.jsx)("tspan",{x:"350",children:t})})},"title"),(0,n.jsx)("g",{children:(0,n.jsx)("text",{stroke:"none",fontSize:"12",fontStyle:"normal",fontFamily:"Times New Roman",fontWeight:"normal",textDecoration:"none",textAnchor:"start",x:"68.2",y:"55.56","data-name":"key",children:(0,n.jsx)("tspan",{x:"68.2",children:"二上り四本(CGC)"})})},"key"),""!=s&&""!=o&&(0,n.jsx)("g",{children:(0,n.jsx)("text",{stroke:"none",fontSize:"12",fontStyle:"normal",fontFamily:"Times New Roman",fontWeight:"normal",textDecoration:"none",textAnchor:"start",x:"68.2",y:"70.56","data-name":"key",children:(0,n.jsxs)("tspan",{x:"68.2",children:[o,"分の",s,"拍子"]})})},"key"),""!=e&&(0,n.jsx)("g",{fill:"currentColor",stroke:"none","data-name":"tempo",children:(0,n.jsx)("text",{stroke:"none",fontSize:"12",fontStyle:"normal",fontFamily:"Times New Roman",fontWeight:"normal",textDecoration:"none",textAnchor:"start",x:"68.2",y:"85.12","data-name":"beats",children:(0,n.jsxs)("tspan",{x:"68.2",children:["Tempo = ",e]})})},"tempo")]})}(c);for(var h=0;h<c.notes.length;h++){var p=c.notes[h];p=p.trim();let a=[],e=/\|\:|\:\||\(\d\:[\d#]+([\:\w])*\)([1-9/])*|(\|\|)|(\|)|\[( *\(\d\:[\d#]+(\:\w)*\) *)+\]([1-9/])*/g;if(0==(p.match(e)||[]).length)continue;p.startsWith("|:")?(p=p.substring(2,p.length),a.push(l(0))):p.startsWith("||")?(p=p.substring(2,p.length),a.push(o(0))):(p.startsWith("|")&&(p=p.substring(1,p.length)),a.push(r(0))),p.endsWith(":|")?(p=p.substring(0,p.length-2),a.push(i(700))):p.endsWith("||")?(p=p.substring(0,p.length-2),a.push(o(696.9))):(p.endsWith("|")&&(p=p.substring(0,p.length-1)),a.push(r(699.4)));let s=function(a){for(var t,e,n=a.match(/\|\:|\:\||\(\d\:[\d#]+([\:\w])*\)([1-9/])*|(\|\|)|(\|)|\[( *\(\d\:[\d#]+(\:\w)*\) *)+\]([1-9/])*|z([1-9/])*|\(3/g)||[],c=0,s=1,o=1,r=!1,l=0,i=1,d=!1,h=[],p=0;p<n.length;p++)switch(n[p],n[p]){case"|":case"||":case"|:":case":|":c+=2,h.push({type:"bar",note:n[p],len:2}),l=c;break;case"(3":console.log(l),d=!0,o=c,r=!0,s=l;break;case null===(t=n[p].match(/z([1-9/])*/))||void 0===t?void 0:t.input:var m=n[p].replace("z","").replace("Z","");if(""==m)c+=2,h.push({type:"relax",note:n[p],len:2});else{var b=m.match(/\d+\//g)||[];if(b.length>0){var x=m.match(/\d+/g)||["0"];c+=parseInt(x[0]),h.push({type:"relax",note:n[p],len:parseInt(x[0])})}var b=m.match(/\d+/g)||[];if(b.length>0){var x=m.match(/\d+/g)||["0"];c+=2*parseInt(x[0]),h.push({type:"relax",note:n[p],len:2*parseInt(x[0])})}if("/"==m){var x=m.match(/\d+/g)||["0"];c+=1,h.push({type:"relax",note:n[p],len:1})}else if("//"==m){var x=m.match(/\d+/g)||["0"];c+=.5,h.push({type:"relax",note:n[p],len:.5})}}r&&(r=!1,o=c),l=c;break;case null===(e=n[p].match(/\[( *\(\d\:[\d#]+([\:\w])*\) *)+\]([1-9/])*/))||void 0===e?void 0:e.input:var u=n[p].match(/\(\d\:\d+(\:\w)*\)/g)||[],j=[];if(u.forEach(a=>{var t=(a=a.replace("(","").replace(")","")).split(":");if(t.length<2)return;let e=t[0],n=t[1];j.push({line:e,note:n})}),0==j.length)break;var m=n[p].replace(/\[( *\(\d\:[\d#]+([\:\w])*\) *)+\]/g,"");if(""==m)c+=2,h.push({type:"notes",notes:j,len:2});else{var b=m.match(/\d+\//g)||[];if(b.length>0){var x=m.match(/\d+/g)||["0"];c+=parseInt(x[0]),h.push({type:"notes",notes:j,len:parseInt(x[0])})}var b=m.match(/\d+/g)||[];if(b.length>0){var x=m.match(/\d+/g)||["0"];c+=2*parseInt(x[0]),h.push({type:"notes",notes:j,len:2*parseInt(x[0])})}if("/"==m){var x=m.match(/\d+/g)||["0"];c+=1,h.push({type:"notes",notes:j,len:1})}else if("//"==m){var x=m.match(/\d+/g)||["0"];c+=.5,h.push({type:"notes",notes:j,len:.5})}}d&&3==i?(d=!1,i=1,h.push({type:"triplet",startPre:s,start:o,end:c,line:"3"})):d&&i++,r&&(r=!1,o=c),l=c;break;default:var f=(n[p].match(/\(\d\:\d+([\:\w])*\)/g)||[])[0]||"",g=(f=f.replace("(","").replace(")","")).split(":");if(g.length<2)break;let a=g[0],k=g[1];var m=n[p].replace(/\(\d\:\d+([\:\w])*\)/g,""),v="";if(g.length>=3&&(v=g[2]),""==m)c+=2,h.push({type:"note",line:a,note:k,tech:v,len:2});else{var b=m.match(/\d+\//g)||[];if(b.length>0){var x=m.match(/\d+/g)||["0"];c+=parseInt(x[0]),h.push({type:"note",tech:v,line:a,note:k,len:parseInt(x[0])})}var b=m.match(/\d+/g)||[];if(b.length>0){var x=m.match(/\d+/g)||["0"];c+=2*parseInt(x[0]),h.push({type:"note",tech:v,line:a,note:k,len:2*parseInt(x[0])})}if("/"==m){var x=m.match(/\d+/g)||["0"];c+=1,h.push({type:"note",tech:v,line:a,note:k,len:1})}else if("//"==m){var x=m.match(/\d+/g)||["0"];c+=.5,h.push({type:"note",tech:v,line:a,note:k,len:.5})}}d&&3==i?(d=!1,i=1,h.push({type:"triplet",startPre:s,start:o,end:c,line:a})):d&&i++,r&&(r=!1,o=c),l=c}return{len:c,notes:h}}(p);var m=s.len;m<30&&(m=30);for(var b=692/m,x=0,u=0,j=0,f=0;f<s.notes.length;f++){var g=(5+(x+=s.notes[f].len||0)*b+j)/2;let t=s.notes[f].type;if("notes"==t){a.push(function(a,t){var e=[],c=void 0,s=130.71;let{notes:o}=t;for(var r=0;r<o.length;r++){var l=144.71;"1"==o[r].line?(l=144.71,s<154.71&&(s=154.71)):"2"==o[r].line?(l=132.71,s<142.71&&(s=142.71)):"3"==o[r].line&&(l=120.71),e.push((0,n.jsx)("text",{stroke:"none",fontSize:"15",fontStyle:"normal",fontFamily:"Arial",fontWeight:"normal",textDecoration:"none",className:"abcjs-tab-number",textAnchor:"middle",x:a,y:l,cursor:"default",children:(0,n.jsx)("tspan",{x:a,children:o[r].note})}))}return 1==t.len?c=(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(s-9,"L ").concat(a-3," ").concat(s-9.5,"L ").concat(a+3," ").concat(s-9.5,"L ").concat(a+3," ").concat(s-9,"z"),"data-name":"bar"}),(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(s-7,"L ").concat(a-3," ").concat(s-7.5,"L ").concat(a+3," ").concat(s-7.5,"L ").concat(a+3," ").concat(s-7,"z"),"data-name":"bar"})]},"ns-d-".concat(a)):2==t.len&&(c=(0,n.jsx)("g",{children:(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(s-8,"L ").concat(a-3," ").concat(s-8.5,"L ").concat(a+3," ").concat(s-8.5,"L ").concat(a+3," ").concat(s-8,"z"),"data-name":"bar"})},"ns-d-".concat(a))),(0,n.jsxs)("g",{className:"abcjs-tabNumber abcjs-note abcjs-d0-125 abcjs-p4 abcjs-l0 abcjs-m0 abcjs-mm0 abcjs-v0 abcjs-n0",fill:"currentColor",stroke:"none","data-name":"tabNumber","data-index":"27",children:[e,c]},"ns-".concat(a))}(g,s.notes[f]));continue}if("relax"==t){a.push(function(a,t){var e=void 0;return 1==t.len?e=(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(133.71,"L ").concat(a-3," ").concat(133.21,"L ").concat(a+3," ").concat(133.21,"L ").concat(a+3," ").concat(133.71,"z"),"data-name":"bar"}),(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(135.71,"L ").concat(a-3," ").concat(135.21,"L ").concat(a+3," ").concat(135.21,"L ").concat(a+3," ").concat(135.71,"z"),"data-name":"bar"})]},"r-d-g-".concat(a)):2==t.len&&(e=(0,n.jsx)("g",{children:(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(134.71,"L ").concat(a-3," ").concat(134.21,"L ").concat(a+3," ").concat(134.21,"L ").concat(a+3," ").concat(134.71,"z"),"data-name":"bar"})},"r-d-g-".concat(a))),(0,n.jsxs)("g",{className:"abcjs-tabNumber abcjs-note abcjs-d0-125 abcjs-p4 abcjs-l0 abcjs-m0 abcjs-mm0 abcjs-v0 abcjs-n0",fill:"currentColor",stroke:"none","data-name":"tabNumber","data-index":"27",children:[(0,n.jsx)("path",{"data-name":"dots.dot",d:"M ".concat(a," 125.00813196981264c 3 -0.03 3 -0.06 0.39 -0.06c 0.96 0 3.74 0.78 3.74 3.71c 0 0.96 -0.78 3.74 -3.71 3.74c -0.96 0 -3.74 -0.78 -3.74 -3.71c 0 -0.78 0.54 -3.5 3.32 -3.68z")}),e]},"r-g-".concat(a))}(g,s.notes[f]));continue}if("triplet"==t){g=u;var v=s.notes[f].startPre||0,k=s.notes[f].start||0;a.push(function(a,t,e){var c=(a+t)/2,s=100.71;return"1"==e.line?s=126.71:"2"==e.line?s=114.71:"3"==e.line&&(s=100.71),console.log(e),(0,n.jsxs)("g",{"data-name":"triplet",children:[(0,n.jsx)("path",{d:"M ".concat(a," ").concat(s," L ").concat(a," ").concat(s+5,"M ").concat(t," ").concat(s," L ").concat(t," ").concat(s+5,"M ").concat(a," ").concat(s," L ").concat(c-4," ").concat(s,"M ").concat(c+4," ").concat(s," L ").concat(t," ").concat(s),"data-name":"triplet-bracket"}),(0,n.jsx)("text",{stroke:"none",fontSize:"12",fontStyle:"italic",fontFamily:"Times",fontWeight:"normal",textDecoration:"none",textAnchor:"middle",x:c,y:s+3,"data-name":"3",children:(0,n.jsx)("tspan",{x:c,children:"3"})})]},"t-".concat(a,"-").concat(t))}((5+v*b+(5+k*b))/2,g,s.notes[f]));continue}let e=s.notes[f].note;if("||"==e)a.push(o(g));else if("|"==e)a.push(r(g));else if("|:"==e)a.push(l(g));else if(":|"==e)a.push(i(g));else{var L={...s.notes[f],preX:u};a.push(function(a,t){var e=144.71,c=154.71,s=152.71;"1"==t.line?e=144.71:"2"==t.line?(e=132.71,c=142.71,s=140.71):"3"==t.line&&(e=120.71,c=130.71,s=128.71);var o=void 0,r=void 0;if(""!==t.tech)switch(t.tech){case"o":o=(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M ".concat(t.preX," ").concat(s-9,"L ").concat(t.preX," ").concat(s-15,"L ").concat(t.preX+.5," ").concat(s-16,"L ").concat(t.preX+.5," ").concat(c-9,"z"),"data-name":"bar"}),(0,n.jsx)("path",{d:"M ".concat(t.preX," ").concat(s-15,"L ").concat(t.preX," ").concat(s-16,"L ").concat(a-5," ").concat(s-16,"L ").concat(a-5," ").concat(s-15,"z"),"data-name":"bar"})]},"n-dt-".concat(a));break;case"s":case"sk":case"skui":o=(0,n.jsx)("text",{stroke:"none",fontSize:"8",fontStyle:"normal",fontFamily:"Arial",fontWeight:"normal",textDecoration:"none",className:"abcjs-tab-number",textAnchor:"middle",x:a,y:c,cursor:"default",children:(0,n.jsx)("tspan",{x:a,children:"ス"})});break;case"h":case"ha":case"hajiki":o=(0,n.jsx)("text",{stroke:"none",fontSize:"8",fontStyle:"normal",fontFamily:"Arial",fontWeight:"normal",textDecoration:"none",className:"abcjs-tab-number",textAnchor:"middle",x:a,y:c,cursor:"default",children:(0,n.jsx)("tspan",{x:a,children:"ハ"})});break;case"u":case"uchi":o=(0,n.jsx)("text",{stroke:"none",fontSize:"8",fontStyle:"normal",fontFamily:"Arial",fontWeight:"normal",textDecoration:"none",className:"abcjs-tab-number",textAnchor:"middle",x:a,y:c,cursor:"default",children:(0,n.jsx)("tspan",{x:a,children:"ウ"})});break;case"sr":case"suri":var l=t.preX,i=s-15;o=(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M ".concat(l," ").concat(i-5," C ").concat(l+4.94," ").concat(i-9," ").concat(a-4.94," ").concat(i-9," ").concat(a," ").concat(i-5," C ").concat(a-4.94," ").concat(i-7," ").concat(l+4.94," ").concat(i-7," ").concat(l," ").concat(i-5," z"),"data-name":"tie"}),(0,n.jsx)("text",{stroke:"none",fontSize:"6",fontStyle:"normal",fontFamily:"Arial",fontWeight:"normal",textDecoration:"none",className:"abcjs-tab-number",textAnchor:"middle",x:(l+a)/2,y:i-10,cursor:"default",children:(0,n.jsx)("tspan",{x:(l+a)/2,children:"スリ"})})]},"n-dt-".concat(a))}return 1==t.len?r=(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(c-9,"L ").concat(a-3," ").concat(c-9.5,"L ").concat(a+3," ").concat(c-9.5,"L ").concat(a+3," ").concat(c-9,"z"),"data-name":"bar"}),(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(c-7,"L ").concat(a-3," ").concat(c-7.5,"L ").concat(a+3," ").concat(c-7.5,"L ").concat(a+3," ").concat(c-7,"z"),"data-name":"bar"})]},"n-d-".concat(a)):2==t.len?r=(0,n.jsx)("g",{children:(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(c-8,"L ").concat(a-3," ").concat(c-8.5,"L ").concat(a+3," ").concat(c-8.5,"L ").concat(a+3," ").concat(c-8,"z"),"data-name":"bar"})},"n-d-".concat(a)):.5==t.len&&(r=(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(c-9,"L ").concat(a-3," ").concat(c-9.5,"L ").concat(a+3," ").concat(c-9.5,"L ").concat(a+3," ").concat(c-9,"z"),"data-name":"bar"}),(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(c-7.5,"L ").concat(a-3," ").concat(c-8,"L ").concat(a+3," ").concat(c-8,"L ").concat(a+3," ").concat(c-7.5,"z"),"data-name":"bar"}),(0,n.jsx)("path",{d:"M ".concat(a-3," ").concat(c-6,"L ").concat(a-3," ").concat(c-6.5,"L ").concat(a+3," ").concat(c-6.5,"L ").concat(a+3," ").concat(c-6,"z"),"data-name":"bar"})]},"n-d-".concat(a))),(0,n.jsxs)("g",{className:"abcjs-tabNumber abcjs-note abcjs-d0-125 abcjs-p4 abcjs-l0 abcjs-m0 abcjs-mm0 abcjs-v0 abcjs-n0",fill:"currentColor",stroke:"none","data-name":"tabNumber","data-index":"27",children:[(0,n.jsx)("text",{stroke:"none",fontSize:"15",fontStyle:"normal",fontFamily:"Arial",fontWeight:"normal",textDecoration:"none",className:"abcjs-tab-number",textAnchor:"middle",x:a,y:e,cursor:"default",children:(0,n.jsx)("tspan",{x:a,children:t.note})}),r,o]},"n-".concat(a))}(g,L))}u=g,j=5+x*b}t.push((0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"abcjs-container",role:"img",fill:"#000",stroke:"#000",viewBox:"0 85.9602222442627 700 77.34977531433105",preserveAspectRatio:"xMinYMin meet","aria-label":'Sheet Music for "Example" section 2',children:[(0,n.jsxs)("g",{className:"abcjs-staff abcjs-l0 abcjs-v1",children:[(0,n.jsx)("path",{d:"M 0 116.46 L 700 116.46 L 700 117.16 L 0 117.16 z",stroke:"none",fill:"currentColor"},"line-1-".concat(h)),(0,n.jsx)("path",{d:"M 0 128.21 L 700 128.21 L 700 128.91 L 0 128.91 z",stroke:"none",fill:"currentColor"},"line-2-".concat(h)),(0,n.jsx)("path",{d:"M 0 139.71 L 700 139.71 L 700 140.41 L 0 140.41 z",stroke:"none",fill:"currentColor"},"line-3-".concat(h))]},"root-".concat(h)),a]},"line-".concat(h)))}return(0,n.jsxs)(n.Fragment,{children:[d,t]})}e(9302);var h=e(7907),p=e(3224),m=e.n(p),b=e(1740),x=e(4272),u=e(9835),j=e(9309);let f={cursor:"pointer",height:"24px",width:"24px"},g={borderBottom:"1px solid #EEEEEE",padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"};var v=a=>{let{title:t,onClose:e}=a;return(0,n.jsxs)("div",{style:g,children:[t,(0,n.jsx)("div",{style:f,onClick:e,children:(0,n.jsx)(j.Z,{})})]})},k=e(6285);let L={width:"100%",display:"flex",justifyContent:"flex-end"},y={padding:"12px 20px"};var w=a=>{let{onSubmit:t}=a;return(0,n.jsx)("div",{style:y,children:(0,n.jsx)("div",{style:L,children:(0,n.jsx)(k.Z,{onClick:t,children:"Copy"})})})};function z(a){let{isOpen:t,onClose:e,onCopy:s,link:o}=a,[r,l]=(0,c.useState)(!1),i=(0,c.useRef)(null);return(0,n.jsx)(b.Z,{open:t,onClose:e,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsxs)(x.Z,{sx:M,children:[(0,n.jsx)(u.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:(0,n.jsx)(v,{title:"Share Link",onClose:e})}),(0,n.jsx)(u.Z,{id:"modal-modal-description",sx:{mt:2},children:(0,n.jsx)("textarea",{ref:i,style:C,id:"outlined-multiline-static",rows:4,defaultValue:o})}),(0,n.jsx)(w,{onSubmit:()=>{var a,t;l(!0),null===(a=i.current)||void 0===a||a.focus(),null===(t=i.current)||void 0===t||t.select(),setTimeout(()=>l(!1),2e3),navigator.clipboard.writeText(o)}})]})})}let C={width:"100%"},M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var S=e(7241),N=e(6929),A=e(2486),W=e(1787);class F{constructor(){this.onStart=()=>{},this.onStop=()=>{},this.onFinished=()=>{},this.onBeat=()=>{},this.onEvent=()=>{}}}function E(){let a=e(1514),t=(0,h.useSearchParams)();var o=t.get("t")||"";o=""==o?atob(o=t.get("tune")||""):m().decompressFromBase64(decodeURIComponent(o))||"";let[r,l]=(0,c.useState)(o),[i,p]=(0,c.useState)(!1),[b,x]=(0,c.useState)("");return(0,c.useEffect)(()=>{let t=m().compressToBase64(r);x("https://cylin743.github.io/shamisen-player/?t=".concat(encodeURIComponent(t)));let e=function(a){let{key:t}=s(a);for(var e=a.replace("K:".concat(t),"K:C").replace("k:".concat(t),"K:C"),n=a.match(/\(\d\:[\d#]+([\:\w])*\)/g)||[],c=0;c<n.length;c++)e=e.replace(n[c],function(a){let t=a.match(/\(\d\:[\d#]+([\:\w])*\)/g)||[];if(0==t.length)return a;for(var e="",n=0;n<t.length;n++){let a=t[n].replace("(","").replace(")","").split(":");if(!(a.length<2))switch("".concat(a[0],":").concat(a[1])){case"1:0":e+="C,";break;case"1:1":e+="^C,";break;case"1:2":e+="D,";break;case"1:3":e+="^D,";break;case"1:#":e+="E,";break;case"1:4":e+="F,";break;case"1:5":e+="^F,";break;case"1:6":case"2:0":e+="G,";break;case"1:7":case"2:1":e+="^G,";break;case"1:8":case"2:2":e+="A,";break;case"1:9":case"2:3":e+="^A,";break;case"1:b":case"2:#":e+="B,";break;case"1:10":case"2:4":case"3:0":e+="C";break;case"1:11":case"2:5":case"3:1":e+="^C";break;case"1:12":case"2:6":case"3:2":e+="D";break;case"1:13":case"2:7":case"3:3":e+="^D";break;case"1:1#":case"2:8":case"3:#":e+="E";break;case"1:14":case"2:9":case"3:4":e+="F";break;case"1:15":case"2:b":case"3:5":e+="^F";break;case"1:16":case"2:10":case"3:6":e+="G";break;case"1:17":case"2:11":case"3:7":e+="^G";break;case"1:18":case"2:12":case"3:8":e+="A";break;case"1:19":case"2:13":case"3:9":e+="^A";break;case"1:1b":case"2:1#":case"3:b":e+="B";break;case"1:20":case"2:14":case"3:10":e+="c";break;case"2:15":case"3:11":e+="^c";break;case"2:16":case"3:12":e+="d";break;case"2:17":case"3:13":e+="^d";break;case"2:18":case"3:1#":e+="e";break;case"2:19":case"3:14":e+="f";break;case"2:1b":case"3:15":e+="^f";break;case"2:20":case"3:16":e+="g";break;case"3:17":e+="^g";break;case"3:18":e+="a";break;case"3:19":e+="^a";break;case"3:1b":e+="b";break;case"3:20":e+="c'"}}return e}(n[c]));return e}(r),[n]=a.renderAbc("*",e,{scale:1,staffwidth:700,paddingleft:0,paddingright:0,responsive:"resize",oneSvgPerLine:!0,add_classes:!0});var c=new F,o=new a.synth.SynthController;o.load("#main-midi",c,{displayRestart:!0,displayPlay:!0,displayProgress:!0,displayLoop:!0,displayWarp:!0,showCursor:!0}),o.setTune(n,!1,{soundFontUrl:"https://gleitz.github.io/midi-js-soundfonts/FluidR3_GM/",programOffsets:{},fadeLength:1e3,millisecondsPerMeasure:1e3,pan:[1.3,2.3],program:106,chordsOff:!0})},[r]),(0,n.jsxs)("main",{children:[(0,n.jsx)("h1",{children:"Shamisen Player"}),(0,n.jsxs)(S.Z,{children:[(0,n.jsx)(A.Z,{expandIcon:(0,n.jsx)(W.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",children:"Editor"}),(0,n.jsx)(N.Z,{children:(0,n.jsx)("textarea",{value:r,onChange:a=>l(a.target.value),style:I})})]}),(0,n.jsx)(k.Z,{onClick:()=>p(!0),children:"Share"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{id:"main-midi"}),(0,n.jsx)("div",{id:"paper"})]}),(0,n.jsx)(d,{input:r}),(0,n.jsx)(z,{isOpen:i,onClose:()=>p(!1),link:b,onCopy:()=>{navigator.clipboard.writeText(b)}})]})}let I={padding:"12px 10px",width:"90%",height:"250px"}}},function(a){a.O(0,[619,334,971,69,744],function(){return a(a.s=2083)}),_N_E=a.O()}]);